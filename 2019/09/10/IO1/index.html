<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16-next.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="文件IO操作1.磁盘对象：在OS中，磁盘对象主要有文件、文件夹(目录)、磁盘分区等组成；磁盘分区将一块硬盘划分成不同的大的区块；每个区块中可以有多个文件夹；每个文件夹中有可以有多个子文件夹或文件；文件夹是用来组织和管理文件的；任意一个文件夹都有一个地址.例如:C:\我的文档\Java面向对象2.磁盘操作：通常情况下，我们的磁盘操作主要分为两大类：">
<meta name="keywords" content="IO流">
<meta property="og:type" content="article">
<meta property="og:title" content="IO基本概念及操作">
<meta property="og:url" content="https://yyr823.github.io/2019/09/10/IO1/index.html">
<meta property="og:site_name" content="SMILE">
<meta property="og:description" content="文件IO操作1.磁盘对象：在OS中，磁盘对象主要有文件、文件夹(目录)、磁盘分区等组成；磁盘分区将一块硬盘划分成不同的大的区块；每个区块中可以有多个文件夹；每个文件夹中有可以有多个子文件夹或文件；文件夹是用来组织和管理文件的；任意一个文件夹都有一个地址.例如:C:\我的文档\Java面向对象2.磁盘操作：通常情况下，我们的磁盘操作主要分为两大类：">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://yyr823.github.io/2019/09/10/IO1/1.png">
<meta property="og:image" content="https://yyr823.github.io/2019/09/10/IO1/2.png">
<meta property="og:image" content="https://yyr823.github.io/2019/09/10/IO1/3.png">
<meta property="og:image" content="https://yyr823.github.io/2019/09/10/IO1/4.png">
<meta property="og:image" content="https://yyr823.github.io/2019/09/10/IO1/5.png">
<meta property="og:image" content="https://yyr823.github.io/2019/09/10/IO1/6.png">
<meta property="og:image" content="https://yyr823.github.io/2019/09/10/IO1/7.png">
<meta property="og:image" content="https://yyr823.github.io/2019/09/10/IO1/8.png">
<meta property="og:image" content="https://yyr823.github.io/2019/09/10/IO1/9.png">
<meta property="og:image" content="https://yyr823.github.io/2019/09/10/IO1/10.png">
<meta property="og:updated_time" content="2019-11-07T06:58:41.478Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IO基本概念及操作">
<meta name="twitter:description" content="文件IO操作1.磁盘对象：在OS中，磁盘对象主要有文件、文件夹(目录)、磁盘分区等组成；磁盘分区将一块硬盘划分成不同的大的区块；每个区块中可以有多个文件夹；每个文件夹中有可以有多个子文件夹或文件；文件夹是用来组织和管理文件的；任意一个文件夹都有一个地址.例如:C:\我的文档\Java面向对象2.磁盘操作：通常情况下，我们的磁盘操作主要分为两大类：">
<meta name="twitter:image" content="https://yyr823.github.io/2019/09/10/IO1/1.png">
  <link rel="canonical" href="https://yyr823.github.io/2019/09/10/IO1/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>IO基本概念及操作 | SMILE</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container use-motion">
    <div class="headband"></div>
<a href="https://github.com/yyr823" 
class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">SMILE</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
      </li>
    
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="https://yyr823.github.io/2019/09/10/IO1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miss.Yang">
      <meta itemprop="description" content="不积跬步,无以至千里;不积小流,无以成江海.">
      <meta itemprop="image" content="/images/xz.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SMILE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">IO基本概念及操作

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-09-10 10:39:59" itemprop="dateCreated datePublished" datetime="2019-09-10T10:39:59+08:00">2019-09-10</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-11-07 14:58:41" itemprop="dateModified" datetime="2019-11-07T14:58:41+08:00">2019-11-07</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/IO流/" itemprop="url" rel="index"><span itemprop="name">IO流</span></a></span>

                
                
              
            </span>
          

          
          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
              
                <span class="post-meta-item-text">本文字数：</span>
              
              <span>17k</span>
            </span>
          
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
              
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              
              <span>15 分钟</span>
            </span>
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img src="/2019/09/10/IO1/1.png" alt="img"></p><h3 id="文件IO操作"><a href="#文件IO操作" class="headerlink" title="文件IO操作"></a><strong>文件IO操作</strong></h3><p><strong>1.磁盘对象</strong>：在OS中，磁盘对象主要有文件、文件夹(目录)、磁盘分区等组成；磁盘分区将一块硬盘划分成不同的大的区块；每个区块中可以有多个文件夹；每个文件夹中有可以有多个子文件夹或文件；文件夹是用来组织和管理文件的；任意一个文件夹都有一个地址.</p><p>例如:C:\我的文档\Java面向对象</p><p><strong>2</strong>.<strong>磁盘操作</strong>：通常情况下，我们的磁盘操作主要分为两大类：</p><a id="more"></a>



<p>A、对磁盘对象的操作；B、对文件内容的操作。</p>
<h4 id="File类-对磁盘对象-文件和文件夹-进行操作"><a href="#File类-对磁盘对象-文件和文件夹-进行操作" class="headerlink" title="File类(对磁盘对象-文件和文件夹)进行操作"></a>File类(对磁盘对象-文件和文件夹)进行操作</h4><h5 id="文件路径的分隔符应使用"><a href="#文件路径的分隔符应使用" class="headerlink" title="文件路径的分隔符应使用"></a>文件路径的分隔符应使用</h5><ul>
<li>“/” </li>
<li>“\”</li>
<li>File类中的文件路径分隔符常量(<code>File.Separator</code>)</li>
</ul>
<h5 id="File类操作文件夹和文件的方法和常量"><a href="#File类操作文件夹和文件的方法和常量" class="headerlink" title="File类操作文件夹和文件的方法和常量"></a>File类操作文件夹和文件的方法和常量</h5><table>
<thead>
<tr>
<th>方法或常量</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>public String separator</td>
<td>常量</td>
<td>文件路径分隔符</td>
</tr>
<tr>
<td>public File(String  filename)</td>
<td>构造方法</td>
<td>创建File类对象并传入完整路径</td>
</tr>
<tr>
<td>public boolean mkdir()</td>
<td>方法</td>
<td>创建单级目录</td>
</tr>
<tr>
<td>public boolean mkdirs()</td>
<td>方法</td>
<td>创建目录且允许创建多级目录</td>
</tr>
<tr>
<td>public boolean isDirectory()</td>
<td>方法</td>
<td>判断给定的路径是否为目录</td>
</tr>
<tr>
<td>publicboolean delete()</td>
<td>方法</td>
<td>删除文件或目录</td>
</tr>
<tr>
<td>public boolean renameTo(File dest)</td>
<td>方法</td>
<td>重命名文件或目泶</td>
</tr>
<tr>
<td>public File[] listFiles()</td>
<td>方法</td>
<td>列出指定目录的全部文件</td>
</tr>
<tr>
<td>public String[] list()</td>
<td>方法</td>
<td>列出指定目录的子目录及文件的名称</td>
</tr>
<tr>
<td>public boolean createNewFile()</td>
<td>方法</td>
<td>创建新文件</td>
</tr>
<tr>
<td>public boolean exists()</td>
<td>方法</td>
<td>判断文件是否存在</td>
</tr>
<tr>
<td>public long length()</td>
<td>方法</td>
<td>返回文件的大小</td>
</tr>
<tr>
<td>public String getPath()</td>
<td>方法</td>
<td>返回文件的路径信息</td>
</tr>
</tbody></table>
<h5 id="注意-文件夹和目录有何不同？"><a href="#注意-文件夹和目录有何不同？" class="headerlink" title="注意:文件夹和目录有何不同？"></a>注意:文件夹和目录有何不同？</h5><p> <strong>答</strong>：文件夹的路径就是目录。</p>
<h5 id="代码案例"><a href="#代码案例" class="headerlink" title="代码案例"></a>代码案例</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File f = <span class="keyword">new</span> File(<span class="string">"D:/hello"</span> + File.separator);</span><br><span class="line">		String[] str = f.list();</span><br><span class="line">		<span class="keyword">for</span> (String name : str) &#123;</span><br><span class="line">			System.out.println(name);</span><br><span class="line">		&#125;</span><br><span class="line">        	System.out.println(<span class="string">"***********"</span>);</span><br><span class="line">		test();</span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">//判断文件是否存在,存在即删除,不存在就创建一个新的文件</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		File f = <span class="keyword">new</span> File(<span class="string">"D:/hello/1.txt"</span>);</span><br><span class="line">		<span class="keyword">if</span> (f.exists()) &#123;</span><br><span class="line">			f.delete();</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				f.createNewFile();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"文件名称:"</span> + f.getName());</span><br><span class="line">		System.out.println(<span class="string">"文件路径:"</span> + f.getPath());</span><br><span class="line">		System.out.println(<span class="string">"文件长度:"</span> + f.length() + <span class="string">"Bytes"</span>);</span><br><span class="line">		System.out.println(f.isDirectory() ? <span class="string">"是目录"</span> : <span class="string">"不是目录"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">j2ee</span><br><span class="line">j2se</span><br><span class="line">nodejs</span><br><span class="line">nodejs1</span><br><span class="line">tomcat_80</span><br><span class="line">tomcat_80.rar</span><br><span class="line">*************</span><br><span class="line">文件名称:<span class="number">1</span>.txt</span><br><span class="line">文件路径:D:\hello\<span class="number">1</span>.txt</span><br><span class="line">文件长度:<span class="number">0</span>Bytes</span><br><span class="line">不是目录</span><br></pre></td></tr></table></figure>

<h4 id="RandomAccessFile类-随机访问文件-对文件内容的操作"><a href="#RandomAccessFile类-随机访问文件-对文件内容的操作" class="headerlink" title="RandomAccessFile类(随机访问文件:对文件内容的操作)"></a>RandomAccessFile类(随机访问文件:对文件内容的操作)</h4><ul>
<li><p><code>RandomAccessFile</code>是Java中功能最丰富的文件访问类，它提供了多种文件访问方法，包括以二进制方式“随机访问”文件、跳转到文件的任意位置读写数据等。实际应用中一般使用<code>RandomAccessFile</code>类访问文件指定位置的内容块。之所以可以访问文件的任意位置，是因<code>RandomAccessFile</code>可以操作文件指针。</p>
</li>
<li><p>默认情况下打开新文件时，位置指针指向文件开始处，当对文件内容操作时，文件指针指向哪里就从哪里开始写入，程序代码可以移动文件指针到指定位置，再进行读写操作。</p>
</li>
</ul>
<h5 id="RandomAccessFile类常用方法"><a href="#RandomAccessFile类常用方法" class="headerlink" title="RandomAccessFile类常用方法"></a>RandomAccessFile类常用方法</h5><table>
<thead>
<tr>
<th>方法</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>public RandomAccessFile(File f,String mode)</td>
<td>构造方法</td>
<td>接收File类并设置r只读、w只写?、rw为读写模式</td>
</tr>
<tr>
<td>public RanciomAccessFile(String name,String mode)</td>
<td>构造方法</td>
<td>输入指定的文件路径并设置模式</td>
</tr>
<tr>
<td>public void close ()</td>
<td>方法</td>
<td>关闭随机存取文交流并释放与该流关联的所有系统资源</td>
</tr>
<tr>
<td>public final byte readByte ()</td>
<td>方法</td>
<td>读取一个字节</td>
</tr>
<tr>
<td>public int read (byte [ ] b)</td>
<td>方法</td>
<td>将内容读取到byte数组中</td>
</tr>
<tr>
<td>public final int readInt()</td>
<td>方法</td>
<td>将一个整型数据写入到文件中</td>
</tr>
<tr>
<td>public final void writeBytes(String s)</td>
<td>方法</td>
<td>按字节序列将该字符串写入该文件</td>
</tr>
<tr>
<td>public final void writeInt(int v)</td>
<td>方法</td>
<td>按四个字节将int写入该文件</td>
</tr>
<tr>
<td>public void seek(long pos)</td>
<td>方法</td>
<td>设置指针距离文件开头的字节数，是绝对定位</td>
</tr>
<tr>
<td>public int skipBytes (int n)</td>
<td>方法</td>
<td>指针从当前位置开始跳过的字节数是相对定位</td>
</tr>
<tr>
<td>public  long getFilePointer ()</td>
<td>方法</td>
<td>获取指针的当前位置</td>
</tr>
</tbody></table>
<h5 id="代码案例-1"><a href="#代码案例-1" class="headerlink" title="代码案例"></a>代码案例</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.RandomAccessFile;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File f = <span class="keyword">new</span> File(<span class="string">"D:/hello"</span> + File.separator + <span class="string">"1.txt"</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			RandomAccessFile raf = <span class="keyword">new</span> RandomAccessFile(f, <span class="string">"rw"</span>);</span><br><span class="line">			raf.writeBytes(<span class="string">"jim"</span>);<span class="comment">//写入3个字节</span></span><br><span class="line">			raf.writeInt(<span class="number">23</span>);<span class="comment">//写入四个字节</span></span><br><span class="line">			raf.writeBytes(<span class="string">"tom"</span>);</span><br><span class="line">			raf.writeInt(<span class="number">24</span>);</span><br><span class="line">			raf.writeBytes(<span class="string">"john"</span>);</span><br><span class="line">			raf.writeInt(<span class="number">22</span>);</span><br><span class="line">			raf.close();<span class="comment">//关闭连接释放资源</span></span><br><span class="line">			System.out.println(<span class="string">"输入写出成功"</span>);</span><br><span class="line">			raf.readInt();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>步骤：</strong></p>
<p>1.先检索到自己需要信息的位置</p>
<p>2.将信息转化为byte数组</p>
<p>3.读取数组里的内容</p>
<p>4.将单个转化为字符串</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.RandomAccessFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		File f = <span class="keyword">new</span> File(<span class="string">"D:/hello"</span> + File.separator + <span class="string">"1.txt"</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			RandomAccessFile raf = <span class="keyword">new</span> RandomAccessFile(f, <span class="string">"r"</span>);</span><br><span class="line">			raf.skipBytes(<span class="number">14</span>);<span class="comment">//raf.seek(14);</span></span><br><span class="line">			<span class="keyword">byte</span>[] b=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">4</span>];</span><br><span class="line">			raf.read(b);</span><br><span class="line">			String n3=<span class="keyword">new</span> String(b);</span><br><span class="line">			<span class="keyword">int</span> a3=raf.readInt();</span><br><span class="line">			System.out.println(<span class="string">"第三个人:"</span>+n3+<span class="string">","</span>+a3+<span class="string">"岁"</span>);</span><br><span class="line">			raf.seek(<span class="number">0</span>);<span class="comment">//raf.skipBytes(-14);不能往前跳</span></span><br><span class="line">			b=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">3</span>];</span><br><span class="line">			raf.read(b);</span><br><span class="line">			String n1=<span class="keyword">new</span> String(b);</span><br><span class="line">			<span class="keyword">int</span> a1=raf.readInt();</span><br><span class="line">			System.out.println(<span class="string">"第一个人:"</span>+n1+<span class="string">","</span>+a1+<span class="string">"岁"</span>);</span><br><span class="line">			raf.close();<span class="comment">//关闭连接释放资源</span></span><br><span class="line">			System.out.println(<span class="string">"读取成功"</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">第三个人:john,22岁</span><br><span class="line">第一个人:jim,23岁</span><br><span class="line">读取成功</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>汉字转字节数组：</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String name=<span class="string">"张三"</span>;</span><br><span class="line"><span class="keyword">byte</span>[] b=name.getBytes();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">// "r", "rw", "rws",or "rwd"</span></span><br><span class="line">File f = <span class="keyword">new</span> File(<span class="string">"D:/hello/1.txt"</span>);</span><br><span class="line">RandomAccessFile raf = <span class="keyword">new</span> RandomAccessFile(f, <span class="string">"rw"</span>);</span><br><span class="line"><span class="comment">// 读取时: byte[] b=new byte[4];4对应字节数</span></span><br><span class="line"><span class="comment">// 写入数据:</span></span><br><span class="line">String name = <span class="string">"张三"</span>;<span class="comment">// 字节为4</span></span><br><span class="line">raf.write(name.getBytes());</span><br><span class="line">raf.writeBytes(<span class="string">"jim"</span>);<span class="comment">// 字节为3</span></span><br><span class="line">raf.writeInt(<span class="number">23</span>);<span class="comment">// 字节为4</span></span><br></pre></td></tr></table></figure>

<h4 id="字节输入输出流"><a href="#字节输入输出流" class="headerlink" title="字节输入输出流"></a><strong>字节输入输出流</strong></h4><ul>
<li>数据流是一串连续不断的数据的集合，数据如同管道供水般一段一段从一端流向另一端，并按先后顺序形成有序队列。</li>
<li>在程序中，无论数据分为多次还是一次性整体写入，其读取效果完全一致。读取时可以选择任意长度的数据，但必须按照由前往后、先进先出的顺序进行。如下图所示。</li>
</ul>
<p><img src="/2019/09/10/IO1/2.png" alt="img"></p>
<h5 id="使用流操作文件有如下几个基本步骤"><a href="#使用流操作文件有如下几个基本步骤" class="headerlink" title="使用流操作文件有如下几个基本步骤"></a><strong>使用流操作文件有如下几个基本步骤</strong></h5><p>① 用File类打开文件；</p>
<p>② 通过字节流或字符流指定输入（来源）/输出（目标）位置；</p>
<p>③ 进行读/写操作；</p>
<p>④ 关闭流。</p>
<h5 id="InputStream和OutputStream"><a href="#InputStream和OutputStream" class="headerlink" title="InputStream和OutputStream"></a>InputStream和OutputStream</h5><p>字节输入流是指数据以字节形式从其他文件或终端设备向程序流入，输入流只能从流中读取数据，可以使用InputStream类完成。</p>
<p>字节输出流是指数据以字节形式从程序流出，输出流只能向流中写入数据，可以使用OutputStream类完成。</p>
<p>InputStream和OutputStream是两个抽象类</p>
<h6 id="体系结构"><a href="#体系结构" class="headerlink" title="体系结构"></a>体系结构</h6><p><img src="/2019/09/10/IO1/3.png" alt="字节输入流类继承体系结构图"></p>
<p><img src="/2019/09/10/IO1/4.png" alt="字节输出流类继承体系结构图"></p>
<h6 id="抽象类-InputStream的主要方法"><a href="#抽象类-InputStream的主要方法" class="headerlink" title="抽象类 InputStream的主要方法"></a>抽象类 InputStream的主要方法</h6><table>
<thead>
<tr>
<th><strong>方法</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td>public void close ()</td>
<td>关闭输入流</td>
</tr>
<tr>
<td>public abstract int read()</td>
<td>以数字的方式读取内容</td>
</tr>
<tr>
<td>public int read (byte [ ] b)</td>
<td>将内容读到byte数组中同时返回阅读入的个数</td>
</tr>
</tbody></table>
<h6 id="抽象类-OutputStream的主要方法"><a href="#抽象类-OutputStream的主要方法" class="headerlink" title="抽象类 OutputStream的主要方法"></a>抽象类 OutputStream的主要方法</h6><table>
<thead>
<tr>
<th><strong>方法</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td>public void close ()</td>
<td>关闭输出流</td>
</tr>
<tr>
<td>public void flush()</td>
<td>刷新输出流并强制写出缓冲的输出字节</td>
</tr>
<tr>
<td>public abstract voidwrite(int b)</td>
<td>将指定的字节写入此输出流</td>
</tr>
<tr>
<td>public int write (byte [ ] b)</td>
<td>将 b.length 个字节从指定的字节数组写入此输出流</td>
</tr>
<tr>
<td>publicvoid write(byte[] b,int off,int len)</td>
<td>将指定字节数组中从偏移量 off 开始的len个字节写入此输出流</td>
</tr>
</tbody></table>
<p><strong>注意：</strong></p>
<blockquote>
<p>若需要使用InputStream和OutputStream两个抽象类来完成二进制数据IO操作，必须通过其子类来完成。eg:使用FilelnputStream读取文件内容，而使用FileOutputStream来写入文件内容。</p>
</blockquote>
<h5 id="FileInputStream和FileOutputStream"><a href="#FileInputStream和FileOutputStream" class="headerlink" title="FileInputStream和FileOutputStream"></a>FileInputStream和FileOutputStream</h5><p>FilelnputStream是InputStream的子类，主要用于从文件中读取数据；FileOutputStream是OutputStream的子类，主要用于向文件中写入数据。        </p>
<h6 id="FileOutputStream的主要构造方法如下"><a href="#FileOutputStream的主要构造方法如下" class="headerlink" title="FileOutputStream的主要构造方法如下"></a>FileOutputStream的主要构造方法如下</h6><p>语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">FileOutputStream</span><span class="params">(File file,<span class="keyword">boolean</span> append)</span></span></span><br></pre></td></tr></table></figure>

<p>其中boolean flag参数是可选的．true表示以追加模式打开文件（相当于自动调整文件指针到最后），false表示以覆盖模式（相当于文件指针在首行的最左侧）打开文件默认情况下flag参数值为false。</p>
<h6 id="FilelnputStream的主要构造方法如下"><a href="#FilelnputStream的主要构造方法如下" class="headerlink" title="FilelnputStream的主要构造方法如下"></a>FilelnputStream的主要构造方法如下</h6><p>语法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">FileInputStream</span><span class="params">(File file)</span> </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">FileInputStream</span><span class="params">(String name)</span></span></span><br></pre></td></tr></table></figure>

<h6 id="代码案例-2"><a href="#代码案例-2" class="headerlink" title="代码案例"></a>代码案例</h6><p>任务：编码打开D:/hello/1.txt文件，向文件中写入hello world，然后再从D:/hello/1.txt文件中读取数据。</p>
<p>要求：写入文件使用 FileOutStream,从文件中读入数据使用FileInputStream。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		File f = <span class="keyword">new</span> File(<span class="string">"D:/hello/1.txt"</span>);</span><br><span class="line">		FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(f, <span class="keyword">true</span>);</span><br><span class="line">		String str = <span class="string">"hello world"</span>;</span><br><span class="line">		fos.write(str.getBytes());</span><br><span class="line">		fos.close();</span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(f);</span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> len = fis.read(buf);</span><br><span class="line">		System.out.println(<span class="keyword">new</span> String(buf, <span class="number">0</span>, len));</span><br><span class="line">		fis.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输出结果: hello world</span><br></pre></td></tr></table></figure>

<p>读写文件内容，已经掌握了两种方式：</p>
<blockquote>
<p><strong>1.使用RandomAccessFile：可以随意调整文件指针位置，进行读写操作。</strong></p>
<p><strong>2.使用FileOutStream来存档，使用FileInputStream来读档。</strong></p>
</blockquote>
<h5 id="BufferedlnputStream-和-BufferedOutputStream"><a href="#BufferedlnputStream-和-BufferedOutputStream" class="headerlink" title="BufferedlnputStream 和 BufferedOutputStream"></a>BufferedlnputStream 和 BufferedOutputStream</h5><p>FilelnputStream和FileOutputStream使用byte数组保存从文件中读取的数据；但由于硬盘（机械设备）数据存取速度远低于内存（电子设备）的数据存取速度，所以可以对IO流进行缓冲，以减少对硬盘的存取次数，提高读写效率。</p>
<blockquote>
<p>BufferedInputStream和BufferedOutputStream为InputStream和OutputStream增加了内存缓冲区.</p>
<p>根本目的是:允许Java的IO流一次操作多个字节，从而提高整个系统的性能。</p>
</blockquote>
<h6 id="BufferedlnputStream构造方法"><a href="#BufferedlnputStream构造方法" class="headerlink" title="BufferedlnputStream构造方法"></a>BufferedlnputStream构造方法</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BufferedInputStream</span><span class="params">(InputStream in)</span> </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BufferedInputStream</span><span class="params">(InputStream in,<span class="keyword">int</span> size)</span></span></span><br></pre></td></tr></table></figure>

<p>第一种形式的构造方法创建带有32个字节缓冲区的缓冲流，第二种形式的构造方法按照指定大小创建缓冲区。</p>
<h6 id="BufferedOutputStream构造方法"><a href="#BufferedOutputStream构造方法" class="headerlink" title="BufferedOutputStream构造方法"></a>BufferedOutputStream构造方法</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BufferedOutputStream</span><span class="params">(OutputStream in)</span> </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">BufferedOutputStream</span><span class="params">(OutputStream in,<span class="keyword">int</span> size)</span></span></span><br></pre></td></tr></table></figure>

<p>与<code>BufferedlnputStream</code>相同，上述第一种形式的构造方法创建带有32个字节缓冲区的缓冲流第二种形式的构造方法按指定的大小来创建缓冲区。 <code>BufferedOutputStream</code>与<code>OutputStream</code>的使用基本一致，</p>
<p>但<code>BufferedOutputStream</code>中的<code>flush</code>方法可以强制输出缓冲区的数据。</p>
<h6 id="代码案例-3"><a href="#代码案例-3" class="headerlink" title="代码案例"></a>代码案例</h6><p>利用缓冲流，将D:/hello/1.txt中的内容，复制到D:/hello/2.txt文件中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test4</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	<span class="keyword">byte</span>[] data=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1</span>];</span><br><span class="line">	FileInputStream in=<span class="keyword">new</span> FileInputStream(<span class="string">"D:/hello/1.txt"</span>);</span><br><span class="line">	FileOutputStream out=<span class="keyword">new</span> FileOutputStream(<span class="string">"D:/hello/2.txt"</span>);</span><br><span class="line">	BufferedInputStream bufin=<span class="keyword">new</span> BufferedInputStream(in);</span><br><span class="line">	BufferedOutputStream bufos=<span class="keyword">new</span> BufferedOutputStream(out);</span><br><span class="line">	<span class="keyword">while</span>(bufin.read(data)!=-<span class="number">1</span>) &#123;</span><br><span class="line">		bufos.write(data);</span><br><span class="line">	&#125;</span><br><span class="line">	bufos.flush();</span><br><span class="line">	bufin.close();</span><br><span class="line">	bufos.close();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建一个长度为1的字节数组（目的是小于32，因为缓冲流默认缓冲区是32字节，大于32就没有意义了)</p>
<p>比如512或1024，表示一次读多少个字节的数据。</p>
<p>read方法返回本次实际读到的字节数，如果为-1，表示本次未读到任何数据。</p>
<p>调用flush方法，将输出缓冲流中的内容（不管缓冲区是否满）一股脑写入2.txt中。</p>
<blockquote>
<p>在网络交互的程序中，缓冲流用的还是挺多的，比如：我们在网上下载一个视频，我们将缓冲流的缓冲区指定的稍微大点，这样，当缓冲流满的时候，才去向硬盘写入一次数据，减少了对磁盘的访问频率。</p>
</blockquote>
<h4 id="对象序列化和反序列化"><a href="#对象序列化和反序列化" class="headerlink" title="对象序列化和反序列化"></a>对象序列化和反序列化</h4><p>不管是游戏还是正在执行过程中的Java程序，很多数据以对象的方式存储在内存中。</p>
<p>对象序列化是指直接将内存中的整个对象存储至文件或其他终端中的过程，即将对象转换为二进制数据保存到文件或其他终端。</p>
<p>反序列化则与之相反。</p>
<p><strong>序列化及反序列化可以方便地实现对象存储和传输。</strong></p>
<p>序列化类的对象时，要求该类必须实现<code>java.io.Serializable</code>接口</p>
<h5 id="接口定义如"><a href="#接口定义如" class="headerlink" title="接口定义如"></a>接口定义如</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Serializable</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>非常有意思的是， 此接口中没有定义任何方法，所以又称为标识接口，表示该类具备序列化的能力。</p>
<p>对象的类实现Serializable接口之后，可以分别使用类<code>ObjectInputStream</code>和<code>ObjectOutputStream</code>类存储、读取数据。</p>
<h6 id="0bjectInputStream类主要方法"><a href="#0bjectInputStream类主要方法" class="headerlink" title="0bjectInputStream类主要方法"></a>0bjectInputStream类主要方法</h6><table>
<thead>
<tr>
<th>方法</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>public ObjectInputStream (InputStream in)</td>
<td>构造方法</td>
<td>构造输入对象</td>
</tr>
<tr>
<td>public final Object readObject ()</td>
<td>方法</td>
<td>从指定位置读取对象</td>
</tr>
</tbody></table>
<h6 id="0bjectOutputStream类主要方法"><a href="#0bjectOutputStream类主要方法" class="headerlink" title="0bjectOutputStream类主要方法"></a>0bjectOutputStream类主要方法</h6><table>
<thead>
<tr>
<th>方法</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>public ObjectOutputStream (OutputStream out)</td>
<td>构造方法</td>
<td>构造输出对象</td>
</tr>
<tr>
<td>public final void writeObject(Object o)</td>
<td>方法</td>
<td>输出对象到指定位置</td>
</tr>
</tbody></table>
<h6 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h6><p> 1.定义可序列化的类，该类必须实现Serializable接口。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"><span class="keyword">private</span> Grade grade;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Grade <span class="title">getGrade</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> grade;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setGrade</span><span class="params">(Grade grade)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.grade = grade;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Grade</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function">pubic <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.编写序列化及反序列化方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test8</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">		writeObject();</span><br><span class="line">		readObject();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 序列化</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeObject</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		File f = <span class="keyword">new</span> File(<span class="string">"D:/hello/2.txt"</span>);</span><br><span class="line">		FileOutputStream outputStream = <span class="keyword">new</span> FileOutputStream(f);</span><br><span class="line">		ObjectOutputStream os = <span class="keyword">new</span> ObjectOutputStream(outputStream);</span><br><span class="line">		<span class="comment">// 创建序列化对象</span></span><br><span class="line">		Student tom = <span class="keyword">new</span> Student();</span><br><span class="line">		tom.setAge(<span class="number">20</span>);</span><br><span class="line">		tom.setName(<span class="string">"tom"</span>);</span><br><span class="line">		Grade grade = <span class="keyword">new</span> Grade();</span><br><span class="line">		grade.setId(<span class="number">1000</span>);</span><br><span class="line">		grade.setName(<span class="string">"S150"</span>);</span><br><span class="line">		tom.setGrade(grade);</span><br><span class="line">		<span class="comment">// 进行写操作</span></span><br><span class="line">		os.writeObject(tom);</span><br><span class="line">		outputStream.close();</span><br><span class="line">		os.close();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 反序列化</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readObject</span><span class="params">()</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">		File f = <span class="keyword">new</span> File(<span class="string">"D:/hello/2.txt"</span>);</span><br><span class="line">		FileInputStream inputStream = <span class="keyword">new</span> FileInputStream(f);</span><br><span class="line">		ObjectInputStream in = <span class="keyword">new</span> ObjectInputStream(inputStream);</span><br><span class="line">		Object object = in.readObject();</span><br><span class="line">		<span class="comment">// 强制类型转换</span></span><br><span class="line">		Student tom = (Student) object;</span><br><span class="line">		System.out.println(<span class="string">"姓名:"</span> + tom.getName());</span><br><span class="line">		System.out.println(<span class="string">"年龄:"</span> + tom.getAge());</span><br><span class="line">		System.out.println(<span class="string">"班级:"</span> + tom.getGrade().getName());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">姓名:tom</span><br><span class="line">年龄:<span class="number">20</span></span><br><span class="line">班级:S150</span><br></pre></td></tr></table></figure>

<h4 id="字符输入输出流"><a href="#字符输入输出流" class="headerlink" title="字符输入输出流"></a>字符输入输出流</h4><h5 id="Reader和Writer"><a href="#Reader和Writer" class="headerlink" title="Reader和Writer"></a>Reader和Writer</h5><p>由于Java中的字符采用Unicode编码，所以InputStream类和OutputStream类用于处理字节，但不适合处理字符文本。</p>
<p>Java为字符文本的输入和输出专门提供了Reader和Writer类，二者均为抽象类且与InputStream类和OutputStream相对应。</p>
<p>其继承层次图如下图所示：</p>
<p><img src="/2019/09/10/IO1/5.png" alt="img"></p>
<h6 id="Reader类主要方法"><a href="#Reader类主要方法" class="headerlink" title="Reader类主要方法"></a>Reader类主要方法</h6><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>public abstract void close()</td>
<td>关闭输入流</td>
</tr>
<tr>
<td>public int read()</td>
<td>读取单个字符</td>
</tr>
<tr>
<td>public intread(char [] c)</td>
<td>将内容读取到字符数组中，并返回读取的长度</td>
</tr>
</tbody></table>
<p><img src="/2019/09/10/IO1/6.png" alt="img"></p>
<h6 id="Writer类主要方法"><a href="#Writer类主要方法" class="headerlink" title="Writer类主要方法"></a>Writer类主要方法</h6><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>public abstract void close()</td>
<td>关闭输出流</td>
</tr>
<tr>
<td>public void write (String str)</td>
<td>输出字符串到流中</td>
</tr>
<tr>
<td>public void write (char [ ] c)</td>
<td>输出字符数组到流中</td>
</tr>
<tr>
<td>public abstract void flush ()</td>
<td>强制清空缓存</td>
</tr>
</tbody></table>
<p>与OutputStream和InputStream类似，Reader和Writer也是抽象类，所以需要根据文件类型的子类来选择具体的子类来实现读取操作。</p>
<p>eg:</p>
<p>以字符形式操作文件时，可以选择FileReader和FileWriter。</p>
<p>当我们看到Reader和Writer时，千万别有一种自己被加重了负担的感觉，而是要当成一个帮手，看到他们请嘴角上扬。</p>
<h5 id="FileReader和FileWriter"><a href="#FileReader和FileWriter" class="headerlink" title="FileReader和FileWriter"></a>FileReader和FileWriter</h5><h6 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h6><p>FileReader和FileWriter是Reader和Writer的实现子类，可用于读写文本文件，现在请编码使用FileWriter向D:/hello/2.txt中写入hello world，并使用FileReader来读取并显示hello world！</p>
<p>核心代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testWriter</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	File f = <span class="keyword">new</span> File(<span class="string">"D:/hello/2.txt"</span>);</span><br><span class="line">	FileWriter out = <span class="keyword">new</span> FileWriter(f);</span><br><span class="line">	out.write(<span class="string">"hello world!"</span>);</span><br><span class="line">	out.close();</span><br><span class="line">	FileReader reader = <span class="keyword">new</span> FileReader(f);</span><br><span class="line">	<span class="keyword">char</span>[]  c= <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">	<span class="keyword">int</span> len = reader.read(c);</span><br><span class="line">	System.out.println(<span class="keyword">new</span> String(c, <span class="number">0</span>, len));</span><br><span class="line">	reader.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="InputStreamReader和OutputStreamWriter"><a href="#InputStreamReader和OutputStreamWriter" class="headerlink" title="InputStreamReader和OutputStreamWriter"></a>InputStreamReader和OutputStreamWriter</h5><p>InputStreamReader和OutputStreamWriter分别为Reader和Writer类的子类，二者用于字节流和字符流之间的转换。</p>
<p>其中InputStreamReader用于将输入的字节流转变为字符流</p>
<p>而OutputStreamWriter用于将输出的字符流转变为字节流。</p>
<p>创建使用默认字符编码的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">OutputStreamWriter <span class="title">OutputStreamWriter</span> <span class="params">(OutputStream out)</span></span></span><br></pre></td></tr></table></figure>

<p>创建使用指定字符集的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">OutputStreamWriter <span class="title">OutputStreamWriter</span> <span class="params">(OutputStream out,String charsetName)</span></span></span><br></pre></td></tr></table></figure>

<h6 id="案例-2"><a href="#案例-2" class="headerlink" title="案例"></a>案例</h6><p>使用<code>OutputStreamWriter</code>向D:/hello/2.txt中，写入一段文本。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	testOutputStreamWriter();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testOutputStreamWriter</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	File f = <span class="keyword">new</span> File(<span class="string">"D:/hello/2.txt"</span>);</span><br><span class="line">	FileOutputStream s = <span class="keyword">new</span> FileOutputStream(f);</span><br><span class="line">	OutputStreamWriter w = <span class="keyword">new</span> OutputStreamWriter(s);</span><br><span class="line">	w.write(<span class="string">"今日的痛苦是明日最甜美的回忆"</span>);</span><br><span class="line">	w.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建一个使用默认字符集的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">InputStreamReader <span class="title">InputStreamReader</span><span class="params">(InputStream in)</span></span></span><br></pre></td></tr></table></figure>

<p>创建使用指定字符集的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">InputStreamReader <span class="title">InputStreamReader</span><span class="params">(InputStream in, String charsetName)</span></span></span><br></pre></td></tr></table></figure>

<p>任务：</p>
<p>使用OutputStreamWriter从D:/hello/2.txt中读取内容。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	testInputStreamWriter();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testInputStreamWriter</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	FileInputStream s = <span class="keyword">new</span> FileInputStream(<span class="string">"D:/hello/2.txt"</span>);</span><br><span class="line">	InputStreamReader r = <span class="keyword">new</span> InputStreamReader(s);</span><br><span class="line">	<span class="keyword">char</span>[] c = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];<span class="comment">// 一次最多多1024个</span></span><br><span class="line">	<span class="keyword">int</span> len = r.read(c);<span class="comment">// 实际读到的字数</span></span><br><span class="line">	System.out.println(<span class="keyword">new</span> String(c, <span class="number">0</span>, len));</span><br><span class="line">	r.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输出结果: 今日的痛苦是明日最甜美的回忆</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<p>频繁的转换字符与字节将影响程序的效率，所以实际应用中应尽量避免直接使用InputStreamReader和OutputStreamWriter类进行转换。</p>
<p>必须进行频繁的转换时，建议使用BufferedWriter和BufferedReader类包装InputStreamReader和OutputStreamWriter。</p>
<h5 id="BufferedWriter和BufferedReader"><a href="#BufferedWriter和BufferedReader" class="headerlink" title="BufferedWriter和BufferedReader"></a>BufferedWriter和BufferedReader</h5><p>BufferedWriter和BufferedReader是带缓冲区的Reader和Writer。使用BufferedReader读取文件时，将首先从文件中读取字符数据并存入缓冲区中，然后调用read()方法，先从缓冲区开始读取，缓冲区数据不足时再从文件中读取；使用BufferedWriter时，写入的数据将先存储到缓冲区中，在缓冲区饱和的情况下将一次性写入目的地。通过缓冲区可以减少对硬盘的输入或输出操作，提高文件存取效率。</p>
<h6 id="BufferedReader类的主要方法："><a href="#BufferedReader类的主要方法：" class="headerlink" title="BufferedReader类的主要方法："></a>BufferedReader类的主要方法：</h6><table>
<thead>
<tr>
<th>方法</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>public BufferedReader(Reader in)</td>
<td>构造方法</td>
<td>接收Reader类实例</td>
</tr>
<tr>
<td>public String readLine()</td>
<td>方法</td>
<td>从缓冲区读取一行文本</td>
</tr>
<tr>
<td>public int read()</td>
<td>方法</td>
<td>读取单个字符</td>
</tr>
<tr>
<td>public int read(char[] cbuf,int off,int len)</td>
<td>方法</td>
<td>将字符读入数组的某一部分</td>
</tr>
</tbody></table>
<h6 id="BufferedWriter类主要方法："><a href="#BufferedWriter类主要方法：" class="headerlink" title="BufferedWriter类主要方法："></a>BufferedWriter类主要方法：</h6><table>
<thead>
<tr>
<th>方法</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>public BufferedWriter(Writer out)</td>
<td>构造方法</td>
<td>接收Writer类实例</td>
</tr>
<tr>
<td>public void newLine()</td>
<td>方法</td>
<td>写入一个行分隔符</td>
</tr>
<tr>
<td>public void write(int c)</td>
<td>方法</td>
<td>写入单个字符</td>
</tr>
<tr>
<td>public void write(char[] c,int off,int len)</td>
<td>方法</td>
<td>写入字符数组的某一部分</td>
</tr>
<tr>
<td>public void write(String s,int off,int len)</td>
<td>方法</td>
<td>写入字符串的某一部分</td>
</tr>
</tbody></table>
<h6 id="案例-3"><a href="#案例-3" class="headerlink" title="案例"></a>案例</h6><p>通过BufferedWriter向D:/hello/2.txt文件中写入一段文本，再使用BufferedReader从D:/hello/2.txt文件中读入数据并显示出来。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	testBuffterWriter();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testBuffterWriter</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	File f = <span class="keyword">new</span> File(<span class="string">"D:/hello/2.txt"</span>);</span><br><span class="line">	FileWriter writer=<span class="keyword">new</span> FileWriter(f);</span><br><span class="line">	BufferedWriter bufferedWriter =<span class="keyword">new</span> BufferedWriter(writer);</span><br><span class="line">	bufferedWriter.write(<span class="string">"肖战"</span>);</span><br><span class="line">	bufferedWriter.close();</span><br><span class="line">    	writer.close();</span><br><span class="line">    	FileReader reader=<span class="keyword">new</span> FileReader(f);</span><br><span class="line">    	BufferedReader bufferedReader=<span class="keyword">new</span> BufferedReader(reader);</span><br><span class="line">    	String content=bufferedReader.readLine();</span><br><span class="line">    	System.out.println(content);</span><br><span class="line">    	bufferedReader.close();</span><br><span class="line">    	reader.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上边代码纯粹是为了给大家演示使用过程而设置，在实际项目中一般不会有这样的业务。</p>
<p>有两点需要关注：</p>
<p>a.BufferedWriter对象和BufferedReader对象的构建过程。</p>
<p><img src="/2019/09/10/IO1/7.png" alt="img"></p>
<p>b.文件关闭(Close)的顺序：先关闭外层缓冲对象，再关闭内层对象。</p>
<h5 id="PrintWriter"><a href="#PrintWriter" class="headerlink" title="PrintWriter"></a>PrintWriter</h5><p>PrintWriter是Writer的子类，其作用是将格式化的数据或对象输出到一个文本输出流.</p>
<h6 id="PrintWriter类构造方法"><a href="#PrintWriter类构造方法" class="headerlink" title="PrintWriter类构造方法"></a>PrintWriter类构造方法</h6><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>PrintWriter(File file)</td>
<td>使用指定文件创建不具有自动行刷新的新 PrintWriter</td>
</tr>
<tr>
<td>PrintWriter(File file, String csn))</td>
<td>创建具有指定文件和字符集且不带自动刷行新的新 PrintWriter</td>
</tr>
<tr>
<td>PrintWriter(OutputStream out)</td>
<td>根据现有的 OutputStream 创建不带自动刷新的新 PrintWriter</td>
</tr>
<tr>
<td>PrintWriter(OutputStream out,boolean autoFlush)</td>
<td>通过现有的 OutputStream 创建新的 PrintWriter</td>
</tr>
<tr>
<td>PrintWriter(String fileName)</td>
<td>创建具有指定文件名称且不带自动行刷新的新 PrintWriter</td>
</tr>
<tr>
<td>PrintWriter(String fileName, String csn)</td>
<td>创建具有指定文件名称和字符集且不带自动行刷新的新 PrintWriter</td>
</tr>
<tr>
<td>PrintWriter(Writer out)</td>
<td>创建不带自动行刷新的新 PrintWriter</td>
</tr>
<tr>
<td>PrintWriter(Writer w, boolean autoFlush)</td>
<td>创建新 PrintWriter</td>
</tr>
</tbody></table>
<p>PrintWriter类中的主要方法是print()和write()，二者均提供类型丰富的参数，可以实现多种形式多种终端的格式化输出操作。</p>
<h6 id="案例-4"><a href="#案例-4" class="headerlink" title="案例"></a>案例</h6><p>使用PrintWriter类向D:/hello/2.txt文件中，写入字符串数据。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testPrintWriter</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		File f = <span class="keyword">new</span> File(<span class="string">"D:/hello/2.txt"</span>);</span><br><span class="line">	PrintWriter pw=<span class="keyword">new</span> PrintWriter(f);</span><br><span class="line">	pw.println(<span class="string">"hello world"</span>);</span><br><span class="line">	pw.write(<span class="string">"java"</span>);</span><br><span class="line">    pw.close();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>程序运行后，打开D:/hello/2.txt文件，如图所示。</p>
<p><img src="/2019/09/10/IO1/8.png" alt="img"></p>
<p>怎么没有数据呢？这是因为PrintWriter内置缓冲区，缓冲区还有空间时，是不会进行写入的文件的，你有以下几种方式来让缓冲区中内容进入文件：</p>
<p>a.在调用print()或write()方法后，调用flush()方法强制刷新缓冲区，将文字写入文件。</p>
<p>b.在创建PrintWriter对象时开启自动刷新选项（例如：第216行被注释的代码）</p>
<p><img src="/2019/09/10/IO1/9.png" alt="img"></p>
<p>c.调用close方法，也会将缓冲区内容写入文件之中。</p>
<p>程序运行后，打开D盘下面的test.txt文件，如图所示：</p>
<p><img src="/2019/09/10/IO1/10.png" alt="img"></p>
<h4 id="字节流与字符流区别"><a href="#字节流与字符流区别" class="headerlink" title="字节流与字符流区别"></a>字节流与字符流区别</h4><table>
<thead>
<tr>
<th>字节流</th>
<th>字符流</th>
</tr>
</thead>
<tbody><tr>
<td>以字节为单位输入和输出数据</td>
<td>以字符为单位输入和输出数据</td>
</tr>
<tr>
<td>操作时不会用到缓冲区（内存）</td>
<td>操作时使用了缓冲区（内存）</td>
</tr>
<tr>
<td>字节流按照8位传输</td>
<td>字符流按照16位传输1个字符=2个字节</td>
</tr>
</tbody></table>

    </div>

    
    
    
<div>
  
    <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束  <i class="fa fa-heart"></i> 感谢您的阅读-------------</div>
    
</div>
  
</div>
        
      
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Miss.Yang</li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://yyr823.github.io/2019/09/10/IO1/" title="IO基本概念及操作">https://yyr823.github.io/2019/09/10/IO1/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-Hans" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li>
</ul>
</div>

      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/IO流/" rel="tag"><i class="fa fa-tag"></i> IO流</a>
            
          </div>
        

        

          <div class="post-nav">
		  
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/09/10/maven1/" rel="next" title="Maven介绍">
                  <i class="fa fa-chevron-left"></i> Maven介绍
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/09/11/IO2/" rel="prev" title="Java往文件中写数据,新写入的数据总是覆盖原有数据,实现追加功能">
                  Java往文件中写数据,新写入的数据总是覆盖原有数据,实现追加功能 <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#文件IO操作"><span class="nav-number">1.</span> <span class="nav-text">文件IO操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#File类-对磁盘对象-文件和文件夹-进行操作"><span class="nav-number">1.1.</span> <span class="nav-text">File类(对磁盘对象-文件和文件夹)进行操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#文件路径的分隔符应使用"><span class="nav-number">1.1.1.</span> <span class="nav-text">文件路径的分隔符应使用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#File类操作文件夹和文件的方法和常量"><span class="nav-number">1.1.2.</span> <span class="nav-text">File类操作文件夹和文件的方法和常量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#注意-文件夹和目录有何不同？"><span class="nav-number">1.1.3.</span> <span class="nav-text">注意:文件夹和目录有何不同？</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#代码案例"><span class="nav-number">1.1.4.</span> <span class="nav-text">代码案例</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RandomAccessFile类-随机访问文件-对文件内容的操作"><span class="nav-number">1.2.</span> <span class="nav-text">RandomAccessFile类(随机访问文件:对文件内容的操作)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#RandomAccessFile类常用方法"><span class="nav-number">1.2.1.</span> <span class="nav-text">RandomAccessFile类常用方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#代码案例-1"><span class="nav-number">1.2.2.</span> <span class="nav-text">代码案例</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字节输入输出流"><span class="nav-number">1.3.</span> <span class="nav-text">字节输入输出流</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#使用流操作文件有如下几个基本步骤"><span class="nav-number">1.3.1.</span> <span class="nav-text">使用流操作文件有如下几个基本步骤</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#InputStream和OutputStream"><span class="nav-number">1.3.2.</span> <span class="nav-text">InputStream和OutputStream</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#体系结构"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">体系结构</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#抽象类-InputStream的主要方法"><span class="nav-number">1.3.2.2.</span> <span class="nav-text">抽象类 InputStream的主要方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#抽象类-OutputStream的主要方法"><span class="nav-number">1.3.2.3.</span> <span class="nav-text">抽象类 OutputStream的主要方法</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#FileInputStream和FileOutputStream"><span class="nav-number">1.3.3.</span> <span class="nav-text">FileInputStream和FileOutputStream</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#FileOutputStream的主要构造方法如下"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">FileOutputStream的主要构造方法如下</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#FilelnputStream的主要构造方法如下"><span class="nav-number">1.3.3.2.</span> <span class="nav-text">FilelnputStream的主要构造方法如下</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#代码案例-2"><span class="nav-number">1.3.3.3.</span> <span class="nav-text">代码案例</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#BufferedlnputStream-和-BufferedOutputStream"><span class="nav-number">1.3.4.</span> <span class="nav-text">BufferedlnputStream 和 BufferedOutputStream</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#BufferedlnputStream构造方法"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">BufferedlnputStream构造方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#BufferedOutputStream构造方法"><span class="nav-number">1.3.4.2.</span> <span class="nav-text">BufferedOutputStream构造方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#代码案例-3"><span class="nav-number">1.3.4.3.</span> <span class="nav-text">代码案例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对象序列化和反序列化"><span class="nav-number">1.4.</span> <span class="nav-text">对象序列化和反序列化</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#接口定义如"><span class="nav-number">1.4.1.</span> <span class="nav-text">接口定义如</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#0bjectInputStream类主要方法"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">0bjectInputStream类主要方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#0bjectOutputStream类主要方法"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">0bjectOutputStream类主要方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#案例"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">案例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字符输入输出流"><span class="nav-number">1.5.</span> <span class="nav-text">字符输入输出流</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Reader和Writer"><span class="nav-number">1.5.1.</span> <span class="nav-text">Reader和Writer</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#Reader类主要方法"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">Reader类主要方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#Writer类主要方法"><span class="nav-number">1.5.1.2.</span> <span class="nav-text">Writer类主要方法</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#FileReader和FileWriter"><span class="nav-number">1.5.2.</span> <span class="nav-text">FileReader和FileWriter</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#案例-1"><span class="nav-number">1.5.2.1.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#InputStreamReader和OutputStreamWriter"><span class="nav-number">1.5.3.</span> <span class="nav-text">InputStreamReader和OutputStreamWriter</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#案例-2"><span class="nav-number">1.5.3.1.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#BufferedWriter和BufferedReader"><span class="nav-number">1.5.4.</span> <span class="nav-text">BufferedWriter和BufferedReader</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#BufferedReader类的主要方法："><span class="nav-number">1.5.4.1.</span> <span class="nav-text">BufferedReader类的主要方法：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#BufferedWriter类主要方法："><span class="nav-number">1.5.4.2.</span> <span class="nav-text">BufferedWriter类主要方法：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#案例-3"><span class="nav-number">1.5.4.3.</span> <span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#PrintWriter"><span class="nav-number">1.5.5.</span> <span class="nav-text">PrintWriter</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#PrintWriter类构造方法"><span class="nav-number">1.5.5.1.</span> <span class="nav-text">PrintWriter类构造方法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#案例-4"><span class="nav-number">1.5.5.2.</span> <span class="nav-text">案例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字节流与字符流区别"><span class="nav-number">1.6.</span> <span class="nav-text">字节流与字符流区别</span></a></li></ol></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/xz.jpg"
      alt="Miss.Yang">
  <p class="site-author-name" itemprop="name">Miss.Yang</p>
  <div class="site-description" itemprop="description">不积跬步,无以至千里;不积小流,无以成江海.</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">95</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">分类</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">标签</span>
        </a>
      </div>
    
  </nav>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      推荐阅读
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/u011642663/article/details/90597317" title="https://blog.csdn.net/u011642663/article/details/90597317" rel="noopener" target="_blank">设计模式看了又忘，忘了又看？</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://github.com/Snailclimb/JavaGuide" title="https://github.com/Snailclimb/JavaGuide" rel="noopener" target="_blank">Java 学习/面试指南</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="http://www.ityouknow.com/springboot/2015/12/30/springboot-collect.html" title="http://www.ityouknow.com/springboot/2015/12/30/springboot-collect.html" rel="noopener" target="_blank">Spring Boot 学习资料汇总</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/wudinaniya/article/details/81130079" title="https://blog.csdn.net/wudinaniya/article/details/81130079" rel="noopener" target="_blank">码农翻身</a>
        </li>
      
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
  <i class="fa fa-heart" aria-hidden="true"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Miss.Yang</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">240k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">3:38</span>
</div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.0</div>
-->
<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date(); 
    function createtime() { 
        var grt= new Date("09/05/2019 12:00:00");//此处修改你的建站时间或者网站上线时间 
        now.setTime(now.getTime()+250); 
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "; 
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
    } 
setInterval("createtime()",250);
</script>

        












        
      </div>
    </footer>
  </div>

  


    
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script>
<script src="/js/schemes/pisces.js?v=7.4.0"></script>

<script src="/js/next-boot.js?v=7.4.0"></script>



  








  <script src="/js/local-search.js?v=7.4.0"></script>














  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body>
</html>
