<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16-next.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="什么是OOM？ OOM,全称”Out Of Memory”,翻译成中文就是“内存用完了”,来源java.lang.OutOfMemoryError。看下关于的官方说明：  Thrown when the Java Virtual Machine cannot allocate an object because it is out of memory, and no more memory cou">
<meta name="keywords" content="OOM">
<meta property="og:type" content="article">
<meta property="og:title" content="什么是OOM，为什么会OOM及一些解决方法">
<meta property="og:url" content="https://yyr823.github.io/2019/09/09/oom/index.html">
<meta property="og:site_name" content="SMILE">
<meta property="og:description" content="什么是OOM？ OOM,全称”Out Of Memory”,翻译成中文就是“内存用完了”,来源java.lang.OutOfMemoryError。看下关于的官方说明：  Thrown when the Java Virtual Machine cannot allocate an object because it is out of memory, and no more memory cou">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://yyr823.github.io/2019/09/09/oom/clipboard.png">
<meta property="og:updated_time" content="2019-09-09T05:13:44.082Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="什么是OOM，为什么会OOM及一些解决方法">
<meta name="twitter:description" content="什么是OOM？ OOM,全称”Out Of Memory”,翻译成中文就是“内存用完了”,来源java.lang.OutOfMemoryError。看下关于的官方说明：  Thrown when the Java Virtual Machine cannot allocate an object because it is out of memory, and no more memory cou">
<meta name="twitter:image" content="https://yyr823.github.io/2019/09/09/oom/clipboard.png">
  <link rel="canonical" href="https://yyr823.github.io/2019/09/09/oom/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>什么是OOM，为什么会OOM及一些解决方法 | SMILE</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container use-motion">
    <div class="headband"></div>
<a href="https://github.com/yyr823" 
class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">SMILE</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>关于</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-book">
      
    

    <a href="/categories/Books/" rel="section"><i class="menu-item-icon fa fa-fw fa-book"></i> <br>书籍</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tv">
      
    

    <a href="/categories/Tv/" rel="section"><i class="menu-item-icon fa fa-fw fa-twitch"></i> <br>影视</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
      </li>
    
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="https://yyr823.github.io/2019/09/09/oom/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Miss.Yang">
      <meta itemprop="description" content="不积跬步,无以至千里;不积小流,无以成江海.">
      <meta itemprop="image" content="/images/xz.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="SMILE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">什么是OOM，为什么会OOM及一些解决方法

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-09-09 11:50:59 / 修改时间：13:13:44" itemprop="dateCreated datePublished" datetime="2019-09-09T11:50:59+08:00">2019-09-09</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Exception/" itemprop="url" rel="index"><span itemprop="name">Exception</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Exception/OOM/" itemprop="url" rel="index"><span itemprop="name">OOM</span></a></span>

                
                
              
            </span>
          

          
          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
              
                <span class="post-meta-item-text">本文字数：</span>
              
              <span>9k</span>
            </span>
          
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
              
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              
              <span>8 分钟</span>
            </span>
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h4 id="什么是OOM？"><a href="#什么是OOM？" class="headerlink" title="什么是OOM？"></a><strong>什么是OOM？</strong></h4><p> OOM,全称”Out Of Memory”,翻译成中文就是“内存用完了”,来源java.lang.OutOfMemoryError。看下关于的官方说明： </p><blockquote>
<p>Thrown when the Java Virtual Machine cannot allocate an object because it is out of memory, and no more memory could be made available by the garbage collector.</p>
</blockquote><a id="more"></a>

<p> 意思就是说，当JVM因为没有足够的内存来为对象分配空间并且垃圾回收器也已经没有空间可回收时，就会抛出这个error（注：<strong>非exception</strong>，因为这个问题已经严重到不足以被应用处理）</p>
<h4 id="为什么会OOM-没有内存了呢-？"><a href="#为什么会OOM-没有内存了呢-？" class="headerlink" title="为什么会OOM(没有内存了呢)？"></a><strong>为什么会OOM(没有内存了呢)？</strong></h4><p>JVM内存过小、程序不严密，产生了过多的垃圾。</p>
<ol>
<li>分配的少了：比如虚拟机本身可使用的内存（一般通过启动时的VM参数指定）太少。</li>
<li>应用用的太多，并且用完没释放，浪费了。此时就会造成内存泄露或者内存溢出。</li>
</ol>
<h5 id="内存泄露"><a href="#内存泄露" class="headerlink" title="内存泄露"></a><strong>内存泄露</strong></h5><p>申请使用完的内存没有释放，导致虚拟机不能再次使用该内存，此时这段内存就泄露了，因为申请者不用了，而又不能被虚拟机分配给别人用。</p>
<h5 id="内存溢出"><a href="#内存溢出" class="headerlink" title="内存溢出"></a><strong>内存溢出</strong></h5><p>申请的内存超出了JVM能提供的内存大小，此时称之为溢出。</p>
<p>在之前没有垃圾自动回收的日子里，比如C语言和C++语言，我们必须亲自负责内存的申请与释放操作，如果申请了内存，用完后又忘记了释放，比如C++中的new了但是没有delete，那么就可能造成内存泄露。偶尔的内存泄露可能不会造成问题，而大量的内存泄露可能会导致内存溢出。</p>
<p>而在Java语言中，由于存在了垃圾自动回收机制，所以，我们一般不用去主动释放不用的对象所占的内存，也就是理论上来说，是不会存在“内存泄露”的。但是，如果编码不当，比如，将某个对象的引用放到了全局的Map中，虽然方法结束了，但是由于垃圾回收器会根据对象的引用情况来回收内存，导致该对象不能被及时的回收。如果该种情况出现次数多了，就会导致内存溢出，比如系统中经常使用的缓存机制。Java中的内存泄露，不同于C++中的忘了delete，往往是逻辑上的原因泄露。</p>
<blockquote>
<p><strong>在解决java内存溢出问题之前，需要对jvm（java虚拟机）的内存管理有一定的认识</strong></p>
</blockquote>
<h4 id="JVM管理的内存大致包括三种不同类型的内存区域（大概介绍）："><a href="#JVM管理的内存大致包括三种不同类型的内存区域（大概介绍）：" class="headerlink" title="JVM管理的内存大致包括三种不同类型的内存区域（大概介绍）："></a><strong>JVM管理的内存大致包括三种不同类型的内存区域（大概介绍）：</strong></h4><h5 id="Permanent-Generation-space（永久保存区域）"><a href="#Permanent-Generation-space（永久保存区域）" class="headerlink" title="Permanent Generation space（永久保存区域）"></a><strong>Permanent Generation space（永久保存区域）</strong></h5><p>主要存放Class（类）和Meta的信息，Class第一次被Load的时候被放入PermGen space区域，Class需要存储的内容主要包括方法和静态属性。</p>
<h5 id="Heap-space-堆区域"><a href="#Heap-space-堆区域" class="headerlink" title="Heap space(堆区域)"></a><strong>Heap space(堆区域)</strong></h5><p>用来存放Class的实例（即对象），对象需要存储的内容主要是非静态属性。每次用new创建一个对象实例后，对象实例存储在堆区域中，这部分空间也被jvm的垃圾回收机制管理。</p>
<h5 id="Java-Stacks-Java栈）"><a href="#Java-Stacks-Java栈）" class="headerlink" title="Java Stacks(Java栈）"></a><strong>Java Stacks(Java栈）</strong></h5><p>跟大多数编程语言包括汇编语言的栈功能相似，主要基本类型变量以及方法的输入输出参数。Java程序的每个线程中都有一个独立的堆栈。</p>
<p>容易发生内存溢出问题的内存空间包括：Permanent Generation space和Heap space。</p>
<blockquote>
<p><strong>JVM内存模型：按照JVM规范</strong></p>
</blockquote>
<h4 id="JAVA虚拟机在运行时会管理以下的内存区域-详细介绍"><a href="#JAVA虚拟机在运行时会管理以下的内存区域-详细介绍" class="headerlink" title="JAVA虚拟机在运行时会管理以下的内存区域(详细介绍)"></a><strong>JAVA虚拟机在运行时会管理以下的内存区域(详细介绍)</strong></h4><table>
<thead>
<tr>
<th>程序计数器</th>
<th>当前线程执行的字节码的行号指示器，线程私有</th>
</tr>
</thead>
<tbody><tr>
<td>JAVA虚拟机栈</td>
<td>Java方法执行的内存模型，每个Java方法的执行对应着一个栈帧的进栈和出栈的操作</td>
</tr>
<tr>
<td>本地方法栈</td>
<td>类似“ JAVA虚拟机栈 ”，但是为native方法的运行提供内存环境</td>
</tr>
<tr>
<td>JAVA堆</td>
<td>对象内存分配的地方，内存垃圾回收的主要区域，所有线程共享。可分为新生代，老生代</td>
</tr>
<tr>
<td>方法区</td>
<td>用于存储已经被JVM加载的类信息、常量、静态变量、即时编译器编译后的代码等数据。Hotspot中的“永久代”</td>
</tr>
<tr>
<td>运行时常量池</td>
<td>方法区的一部分，存储常量信息，如各种字面量、符号引用等</td>
</tr>
<tr>
<td>直接内存</td>
<td>并不是JVM运行时数据区的一部分， 可直接访问的内存， 比如NIO会用到这部分</td>
</tr>
</tbody></table>
<p>按照JVM规范，除了程序计数器不会抛出OOM外，其他各个内存区域都可能会抛出OOM。</p>
<h4 id="导致OutOfMemoryError异常的常见原因有以下几种"><a href="#导致OutOfMemoryError异常的常见原因有以下几种" class="headerlink" title="导致OutOfMemoryError异常的常见原因有以下几种"></a><strong>导致OutOfMemoryError异常的常见原因有以下几种</strong></h4><ol>
<li>内存中加载的数据量过于庞大，如一次从数据库取出过多数据；</li>
<li>集合类中有对对象的引用，使用完后未清空，使得JVM不能回收；</li>
<li>代码中存在死循环或循环产生过多重复的对象实体；</li>
<li>使用的第三方软件中的BUG；</li>
<li>启动参数内存值设定的过小；</li>
</ol>
<h4 id="此错误常见的错误提示"><a href="#此错误常见的错误提示" class="headerlink" title="此错误常见的错误提示"></a><strong>此错误常见的错误提示</strong></h4><ol>
<li><code>java.lang.OutOfMemoryError: PermGen space</code></li>
<li><code>java.lang.OutOfMemoryError: Java heap space</code></li>
<li><code>weblogic:Root cause of ServletException java.lang.OutOfMemoryError</code></li>
<li><code>resin:java.lang.OutOfMemoryError</code></li>
<li><code>java:java.lang.OutOfMemoryError</code></li>
<li><code>java.lang.StackOverflowError</code> ——&gt; 不会抛OOM error，但也是比较常见的Java内存溢出。JAVA虚拟机栈溢出，一般是由于程序中存在死循环或者深度递归调用造成的，栈大小设置太小也会出现此种溢出。可以通过虚拟机参数-Xss来设置栈的大小。</li>
</ol>
<h4 id="OOM分析"><a href="#OOM分析" class="headerlink" title="OOM分析"></a><strong>OOM分析</strong></h4><p>解决java.lang.OutOfMemoryError的方法有如下几种：</p>
<h5 id="增加jvm的内存大小"><a href="#增加jvm的内存大小" class="headerlink" title="增加jvm的内存大小"></a><strong>增加jvm的内存大小</strong></h5><p>方法有：</p>
<ul>
<li>在执行某个class文件时候，可以使用</li>
</ul>
<p>java -Xmx256M aa.class </p>
<p>​             来设置运行aa.class时jvm所允许占用的最大内存为256M。</p>
<ul>
<li>对tomcat容器，可以在启动时对jvm设置内存限度。对tomcat，可以在catalina.bat中添加：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set CATALINA_OPTS=-Xms128M -Xmx256M </span><br><span class="line">set JAVA_OPTS=-Xms128M -Xmx256M </span><br><span class="line">或者把</span><br><span class="line">%CATALINA_OPTS%和%JAVA_OPTS% </span><br><span class="line">代替为-Xms128M -Xmx256M</span><br></pre></td></tr></table></figure>

<ul>
<li><p>对resin容器，同样可以在启动时对jvm设置内存限度。在bin文件夹下创建一个startup.bat文件，</p>
<p>内容如下：<code>@echo off call &quot;httpd.exe&quot;  &quot;-Xms128M&quot; &quot;-Xmx256M&quot; :end</code> </p>
</li>
</ul>
<p>其中”-Xms128M”为最小内存，”-Xmx256M”为最大内存。</p>
<h5 id="优化程序，释放垃圾"><a href="#优化程序，释放垃圾" class="headerlink" title="优化程序，释放垃圾"></a><strong>优化程序，释放垃圾</strong></h5><p>导致java.lang.OutOfMemoryError的根本原因是<strong>程序不健壮</strong>。因此，从根本上解决Java内存溢出的唯一方法就是修改程序，及时地释放没用的对象，释放内存空间。 遇到该错误的时候要仔细检查程序，遇多一次这种问题之后，以后写程序就会小心多了。</p>
<h5 id="Java代码导致OutOfMemoryError错误的解决"><a href="#Java代码导致OutOfMemoryError错误的解决" class="headerlink" title="Java代码导致OutOfMemoryError错误的解决"></a><strong>Java代码导致OutOfMemoryError错误的解决</strong></h5><p>需要重点排查以下几点：</p>
<ul>
<li>检查代码中是否有死循环或递归调用。</li>
<li>检查是否有大循环重复产生新对象实体。</li>
<li>检查对数据库查询中，是否有一次获得全部数据的查询。一般来说，如果一次取十万条记录到内存，就可能引起内存溢出。这个问题比较隐蔽，在上线前，数据库中数据较少，不容易出问题，上线后，数据库中数据多了，一次查询就有可能引起内存溢出。因此对于数据库查询尽量采用分页的方式查询。</li>
<li>检查List、MAP等集合对象是否有使用完后，未清除的问题。List、MAP等集合对象会始终存有对对象的引用，使得这些对象不能被GC回收<strong>。</strong></li>
</ul>
<h5 id="tomcat中java-lang-OutOfMemoryError-PermGen-space异常处理"><a href="#tomcat中java-lang-OutOfMemoryError-PermGen-space异常处理" class="headerlink" title="tomcat中java.lang.OutOfMemoryError: PermGen space异常处理"></a><strong>tomcat中java.lang.OutOfMemoryError: PermGen space异常处理</strong></h5><p>PermGen space的全称是<strong>Permanent Generation space</strong></p>
<p>是指内存的永久保存区域,这块内存主要是被JVM存放Class和Meta信息的,Class在被Loader时就会被放到PermGen space中, 它和存放类实例(Instance)的Heap区域不同,GC(Garbage Collection)不会在主程序运行期对PermGen space进行清理，所以如果你的应用中有很多CLASS的话,就很可能出现PermGen space错误, 这种错误常见在web服务器对JSP进行pre compile的时候。如果你的WEB APP下<strong>，</strong>系统的代码非常多或引用的第三方包非常多、或代码中使用了大量的常量、或通过intern注入常量、或者通过动态代码加载等方法，导致常量池的膨胀。虽然JDK 1.5以后可以通过设置对永久带进行回收，但是我们希望的是这个地方是不做GC的，它够用就行，所以一般情况下今年少做类似的操作.</p>
<p>解决方法： 手动设置MaxPermSize大小，修改TOMCAT_HOME/bin/catalina.sh在</p>
<p><code>echo &quot;Using CATALINA_BASE:   $CATALINA_BASE&quot;</code> </p>
<p><strong>上面加入以下行：</strong></p>
<p>JAVA_OPTS=”-server -XX:PermSize=64M -XX:MaxPermSize=128m </p>
<p>建议：将相同的第三方jar文件移置到tomcat/shared/lib目录下，这样可以达到减少jar 文档重复占用内存的目的。</p>
<h5 id="weblogic中java-lang-OutOfMemoryError异常处理"><a href="#weblogic中java-lang-OutOfMemoryError异常处理" class="headerlink" title="weblogic中java.lang.OutOfMemoryError异常处理"></a><strong>weblogic中java.lang.OutOfMemoryError异常处理</strong></h5><p><strong>错误提示： <u>Root cause of ervletException java.lang.OutOfMemoryError</u></strong> </p>
<p>解决办法：调整bea/weblogic/common中CommEnv中参数</p>
<blockquote>
<p>:sun  if “%PRODUCTION_MODE%” == “true” goto sun_prod_mode 　　</p>
<p>set JAVA_VM=-client 　set MEM_ARGS=-Xms256m -Xmx512m -XX:MaxPermSize=256m 　</p>
<p>set JAVA_OPTIONS=%JAVA_OPTIONS% -Xverify:none   goto continue 　　</p>
<p>:sun_prod_mode 　set JAVA_VM=-server 　　</p>
<p>set MEM_ARGS=-Xms256m -Xmx512m -XX:MaxPermSize=256m 　goto continue </p>
</blockquote>
<h5 id="Resin下java-lang-OutOfMemoryError异常处理"><a href="#Resin下java-lang-OutOfMemoryError异常处理" class="headerlink" title="Resin下java.lang.OutOfMemoryError异常处理"></a><strong>Resin下java.lang.OutOfMemoryError异常处理</strong></h5><p>出现这个错误，一般是因为JVM物理内存过小。默认的Java虚拟机最大内存仅为64兆，这在开发调试过程中可能没有问题，但在实际的应用环境中是远远不能满足需要的，除非你的应用非常小，也没什么访问量。否则你可能会发现程序运行一段时间后包java.lang.OutOfMemoryError的错误。因此我们需要提升resin可用的虚拟机内存的大小。</p>
<p>解决方法：</p>
<p>修改/usr/local/resin/bin/httpd.sh中的args选项 添加参数-Xms（初始内存）和-Xmx（最大能够使用内存大小）可以用来限制JVM的物理内存使用量。例如：</p>
<p>args=”-Xms128m -Xmx256m” </p>
<p>设置后，JVM初始物理内存是128m，最大能使用物理内存为256m。这两个值应该由系统管理员根据服务器的实际情况进行设置。</p>
<p><code>java.lang.OutOfMemoryError: ......java heap space.....</code></p>
<p>也就是当你看到heap相关的时候就肯定是<strong>堆栈溢出</strong>了，此时如果代码没有问题的情况下，适当调整-Xmx和-Xms是可以避免的，不过一定是代码没有问题的前提，为什么会溢出呢，要么代码有问题，要么访问量太多并且每个访问的时间太长或者数据太多，导致数据释放不掉，因为垃圾回收器是要找到那些是垃圾才能回收，这里它不会认为这些东西是垃圾，自然不会去回收了；主意这个溢出之前，可能系统会提前先报错关键字为：</p>
<p><code>java.lang.OutOfMemoryError:GC over head limit exceeded</code> </p>
<p>这种情况是当系统处于高频的GC状态(即程序在垃圾回收上花费了98%的时间，却收集不回2%的空间，通常这样的异常伴随着CPU的冲高)，而且回收的效果依然不佳的情况，就会开始报这个错误，这种情况一般是产生了很多不可以被释放的对象，有可能是引用使用不当导致，或申请大对象导致，但是java heap space的内存溢出有可能提前不会报这个错误，也就是可能就内存不够导致，而不是高频GC.</p>
<h5 id="第三类内存溢出"><a href="#第三类内存溢出" class="headerlink" title="第三类内存溢出"></a><strong>第三类内存溢出</strong></h5><p><strong>在使用ByteBuffer中的allocateDirect()的时候会用到，很多javaNIO的框架中被封装为其他的方法</strong></p>
<p><strong>溢出关键字：</strong></p>
<p><strong><code>java.lang.OutOfMemoryError: Direct buffer memory</code></strong> </p>
<p>如果你在直接或间接使用了ByteBuffer中的allocateDirect方法的时候，而不做clear的时候就会出现类似的问题，常规的引用程序IO输出存在一个内核态与用户态的转换过程，也就是对应直接内存与非直接内存，如果常规的应用程序你要将一个文件的内容输出到客户端需要通过OS的直接内存转换拷贝到程序的非直接内存（也就是heap中），然后再输出到直接内存由操作系统发送出去，而直接内存就是由OS和应用程序共同管理的，而非直接内存可以直接由应用程序自己控制的内存，jvm垃圾回收不会回收掉直接内存这部分的内存，所以要注意了哦。</p>
<p>如果经常有类似的操作，可以考虑设置参数：-XX:MaxDirectMemorySize </p>
<h5 id="java-lang-StackOverflowError"><a href="#java-lang-StackOverflowError" class="headerlink" title="java.lang.StackOverflowError"></a><strong>java.lang.StackOverflowError</strong></h5><p>这个参数直接说明一个内容，就是-Xss太小了，我们申请很多局部调用的栈针等内容是存放在用户当前所持有的线程中的，线程在jdk 1.4以前默认是256K，1.5以后是1M，如果报这个错，只能说明-Xss设置得太小，当然有些厂商的JVM不是这个参数，本文仅仅针对Hotspot VM而已；不过在有必要的情况下可以对系统做一些优化，使得-Xss的值是可用的。</p>
<h5 id="java-lang-OutOfMemoryError-unable-to-create-new-native-thread"><a href="#java-lang-OutOfMemoryError-unable-to-create-new-native-thread" class="headerlink" title="java.lang.OutOfMemoryError: unable to create new native thread"></a><strong>java.lang.OutOfMemoryError: unable to create new native thread</strong></h5><p>这种怪事是因为JVM已经被系统分配了大量的内存(比如1.5G)，并且它至少要占用可用内存的一半。有人发现，在线程个数很多的情况下，你分配给JVM的内存越多，那么，上述错误发生的可能性就越大。</p>
<p>那么是什么原因造成这种问题呢？  每一个32位的进程最多可以使用2G的可用内存，因为另外2G被操作系统保留。这里假设使用1.5G给JVM，那么还余下500M可用内存。 这500M内存中的一部分必须用于系统dll的加载，那么真正剩下的也许只有400M，现在关键的地方出现了:当你使用Java创建一个线程，在JVM的内存里也会创建一个Thread对象，但是同时也会在操作系统里创建一个真正的物理线程(参考JVM规范)，操作系统会在余下的400兆内存里创建这个物理线程，而不是在JVM的1500M的内存堆里创建。在jdk1.4里头，默认的栈大小是256KB，但是在jdk1.5里头，默认的栈大小为1M每线程，因此，在余下400M的可用内存里边我们最多也只能创建400个可用线程。  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(MaxProcessMemory - JVMMemory - ReservedOsMemory) / (ThreadStackSize) = Number of threads</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>MaxProcessMemory</th>
<th>指的是一个进程的最大内存</th>
</tr>
</thead>
<tbody><tr>
<td>JVMMemory</td>
<td>JVM内存</td>
</tr>
<tr>
<td>ReservedOsMemory</td>
<td>保留的操作系统内存</td>
</tr>
<tr>
<td>ThreadStackSize</td>
<td>线程栈的大小</td>
</tr>
</tbody></table>
<p>这样结论就出来了，系统可创建线程数量与分配给JVM内存大小成反比,要想创建更多的线程，你必须减少分配给JVM的最大内存。还有一种做法是让JVM宿主在你的JNI代码里边。 给出一个有关能够创建线程的最大个数的估算公式：</p>
<p>对于jdk1.5而言，假设操作系统保留120M内存：  </p>
<blockquote>
<p>1.5GB  JVM: (2GB-1.5Gb-120MB)/(1MB) = ~380 threads </p>
<p>1.0GB JVM: (2GB-1.0Gb-120MB)/(1MB) = ~880 threads  </p>
</blockquote>
<p> 对于栈大小为256KB的jdk1.4而言，</p>
<blockquote>
<p>1.5GB allocated to JVM: ~1520 threads </p>
<p>1.0GB allocated to JVM: ~3520 threads   </p>
</blockquote>
<p>对于这个异常我们首先需要判断下，发生内存溢出时进程中:</p>
<p>到底都有什么样的线程，这些线程是否是应该存在的，是否可以通过优化来降低线程数； </p>
<p>另外一方面默认情况下java为每个线程分配的栈内存大小是1M，通常情况下，这1M的栈内存空间是足足够用了，因为在通常在栈上存放的只是基础类型的数据或者对象的引用，这些东西都不会占据太大的内存.</p>
<ol>
<li>我们可以通过调整jvm参数，降低为每个线程分配的栈内存大小来解决问题，例如在jvm参数中添加-Xss128k将线程栈内存大小设置为128k。</li>
<li>查看是否操作系统限制了可创建线程数量</li>
</ol>
<p>执行ulimit -u 可以查看当前用户可创建线程量，如果不满足要求，可以通过修改配置文件调整其大小：相关配置文件在etc/security/limit.d/XX-nproc.conf中.</p>
<h5 id="java-lang-OutOfMemoryError-request-byte-for-out-of-swap"><a href="#java-lang-OutOfMemoryError-request-byte-for-out-of-swap" class="headerlink" title="java.lang.OutOfMemoryError: request {} byte for {}out of swap"></a><strong>java.lang.OutOfMemoryError: request {} byte for {}out of swap</strong></h5><p>这类错误一般是由于地址空间不够而导致。</p>
<h4 id="要dump堆的内存镜像，可以采用如下两种方式"><a href="#要dump堆的内存镜像，可以采用如下两种方式" class="headerlink" title="要dump堆的内存镜像，可以采用如下两种方式"></a><strong>要dump堆的内存镜像，可以采用如下两种方式</strong></h4><ol>
<li>设置JVM参数<code>-XX:+HeapDumpOnOutOfMemoryError</code>，设定当发生OOM时自动dump出堆信息。不过该方法需要JDK5以上版本。</li>
<li>使用JDK自带的jmap命令.”jmap -dump:format=b,file=heap.bin”其中pid可以通过jps获取。</li>
</ol>
<p>dump堆内存信息后，需要对dump出的文件进行分析，从而找到OOM的原因。常用的工具有：</p>
<ol>
<li><p>mat: eclipse memory analyzer, 基于eclipse RCP的内存分析工具。</p>
<p>详细信息参见: <a href="http://www.eclipse.org/mat" target="_blank" rel="noopener"><strong>推荐使用</strong></a></p>
</li>
<li><p>jhat：JDK自带的java heap analyze tool，可以将堆中的对象以html的形式显示出来，包括对象的数量，大小等等，并支持对象查询语言OQL，分析相关的应用后，可以通过来 <a href="http://localhost:7000" target="_blank" rel="noopener"><strong>访问</strong></a> 分析结果。不推荐使用，因为在实际的排查过程中，一般是先在生产环境 dump出文件来，然后拉到自己的开发机器上分析，所以，不如采用高级的分析工具比如前面的mat来的高效。</p>
</li>
</ol>
<p><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-ecl-ma/index.html" target="_blank" rel="noopener"><strong>这个链接</strong></a>中提供了一个采用mat分析的例子 。</p>
<p>注意：因为JVM规范没有对dump出的文件的格式进行定义，所以不同的虚拟机产生的dump文件并不是一样的。在分析时，需要针对不同的虚拟机的输出采用不同的分析工具（当然,有的工具可以兼容多个虚拟机的格式）。IBM HeapAnalyzer也是分析heap的一个常用的工具.</p>
<h4 id="利用gc-log进行OOM监控"><a href="#利用gc-log进行OOM监控" class="headerlink" title="利用gc.log进行OOM监控"></a><strong>利用gc.log进行OOM监控</strong></h4><p>针对JVM的监听，JDK默认提供了如jconsole、jvisualVM工具都非常好用，本节介绍利用打开gc的日志功能，进行OOM的监控。</p>
<p>首先需要对JAVA程序添加执行参数：</p>
<blockquote>
<p>-XX:+PrintGC 输出GC日志 </p>
<p>-XX:+PrintGCDetails 输出GC的详细日志 </p>
<p>-XX:+PrintGCTimeStamps 输出GC的时间戳（以基准时间的形式）</p>
<p> -XX:+PrintGCDateStamps 输出GC的时间戳（以日期的形式，如 2013-05-04T21:53:59.234+0800） </p>
<p>-XX:+PrintHeapAtGC 在进行GC的前后打印出堆的信息</p>
<p> -Xloggc:../logs/gc.log 日志文件的输出路径 </p>
</blockquote>
<p>示例参数配置：<code>-xmx100M -XX:+PrintGCDetails ``-Xloggc:../logs/gc.log -XX:+PrintGCDetails -Xmx设置堆内存</code> </p>
<p>输出日志的详细介绍：</p>
<p><img src="/2019/09/09/oom/clipboard.png" alt="img"></p>
<p>总共分配了100M堆内存空间，老年代+年轻代=堆</p>
<p>就堆内存，此次GC共回收了79186-75828=3356=3.279M内存，能回收空间已经非常少了。</p>
<p>同时从PSYoungGen回收10612-7254=3558=3.474M内存</p>
<p>3558-3356=202K，说明有202K的空间在年轻代释放，却传入年老代继续占用</p>
<p> 下一条日志输出：</p>
<blockquote>
<p> 2018-01-03T10:53:52.281+0800: 11.052: [Full GC (Allocation Failure)<br> [PSYoungGen: 7254K-&gt;7254K(24064K)]<br> [ParOldGen: 68574K-&gt;68486K(68608K)] 75828K-&gt;75740K(92672K),<br> [Metaspace: 3357K-&gt;3357K(1056768K)], 0.6010057 secs]<br> [Times: user=2.08 sys=0.00, real=0.60 secs] 0.6010057 se</p>
</blockquote>
<p>68574-68486=88K       75828-75740=88K</p>
<p>此次FullGC 只能释放老年代的88K空间</p>
<p>对于分析gc.log，提供一种图形化工具辅助分析gcviewer-1.3.6</p>
<p><strong>参考链接</strong></p>
<p><a href="https://blog.csdn.net/qq_42447950/article/details/81435080" target="_blank" rel="noopener"><strong>什么是OOM，为什么会OOM及一些解决方法</strong></a></p>
<p><a href="https://blog.csdn.net/change_on/article/details/77841989" target="_blank" rel="noopener"><strong>线上java.lang.OutOfMemoryError问题定位三板斧</strong></a></p>
<p><a href="https://blog.csdn.net/demo__/article/details/82665178" target="_blank" rel="noopener"><strong>java中的dump是什么？</strong></a></p>
<p><a href="https://blog.csdn.net/niyuelin1990/article/details/78033570" target="_blank" rel="noopener"><strong>java 获取内存dump 的几种方式</strong></a></p>
<p><a href="https://blog.csdn.net/zhangsanfeng2009/article/details/81001394" target="_blank" rel="noopener"><strong>Java 内存溢出（java.lang.OutOfMemoryError）的常见情况和处理方式总结</strong></a></p>
<p><a href="https://blog.csdn.net/wuzhiwei549/article/details/79974277" target="_blank" rel="noopener"><strong>Java 内存溢出（java.lang.OutOfMemoryError）常见情况和总结</strong></a></p>
<p><a href="https://blog.csdn.net/sunquan291/article/details/79109197" target="_blank" rel="noopener"><strong>几种OOM异常分析</strong></a></p>

    </div>

    
    
    
<div>
  
    <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束  <i class="fa fa-heart"></i> 感谢您的阅读-------------</div>
    
</div>
  
</div>
        
      
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Miss.Yang</li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://yyr823.github.io/2019/09/09/oom/" title="什么是OOM，为什么会OOM及一些解决方法">https://yyr823.github.io/2019/09/09/oom/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-Hans" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li>
</ul>
</div>

      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/OOM/" rel="tag"><i class="fa fa-tag"></i> OOM</a>
            
          </div>
        

        

          <div class="post-nav">
		  
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/09/09/tv1/" rel="next" title="影视观看单">
                  <i class="fa fa-chevron-left"></i> 影视观看单
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/09/09/jilu/" rel="prev" title="2019所看记录片">
                  2019所看记录片 <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#什么是OOM？"><span class="nav-number">1.</span> <span class="nav-text">什么是OOM？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#为什么会OOM-没有内存了呢-？"><span class="nav-number">2.</span> <span class="nav-text">为什么会OOM(没有内存了呢)？</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#内存泄露"><span class="nav-number">2.1.</span> <span class="nav-text">内存泄露</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#内存溢出"><span class="nav-number">2.2.</span> <span class="nav-text">内存溢出</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JVM管理的内存大致包括三种不同类型的内存区域（大概介绍）："><span class="nav-number">3.</span> <span class="nav-text">JVM管理的内存大致包括三种不同类型的内存区域（大概介绍）：</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Permanent-Generation-space（永久保存区域）"><span class="nav-number">3.1.</span> <span class="nav-text">Permanent Generation space（永久保存区域）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Heap-space-堆区域"><span class="nav-number">3.2.</span> <span class="nav-text">Heap space(堆区域)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Java-Stacks-Java栈）"><span class="nav-number">3.3.</span> <span class="nav-text">Java Stacks(Java栈）</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JAVA虚拟机在运行时会管理以下的内存区域-详细介绍"><span class="nav-number">4.</span> <span class="nav-text">JAVA虚拟机在运行时会管理以下的内存区域(详细介绍)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#导致OutOfMemoryError异常的常见原因有以下几种"><span class="nav-number">5.</span> <span class="nav-text">导致OutOfMemoryError异常的常见原因有以下几种</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#此错误常见的错误提示"><span class="nav-number">6.</span> <span class="nav-text">此错误常见的错误提示</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OOM分析"><span class="nav-number">7.</span> <span class="nav-text">OOM分析</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#增加jvm的内存大小"><span class="nav-number">7.1.</span> <span class="nav-text">增加jvm的内存大小</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#优化程序，释放垃圾"><span class="nav-number">7.2.</span> <span class="nav-text">优化程序，释放垃圾</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Java代码导致OutOfMemoryError错误的解决"><span class="nav-number">7.3.</span> <span class="nav-text">Java代码导致OutOfMemoryError错误的解决</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#tomcat中java-lang-OutOfMemoryError-PermGen-space异常处理"><span class="nav-number">7.4.</span> <span class="nav-text">tomcat中java.lang.OutOfMemoryError: PermGen space异常处理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#weblogic中java-lang-OutOfMemoryError异常处理"><span class="nav-number">7.5.</span> <span class="nav-text">weblogic中java.lang.OutOfMemoryError异常处理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Resin下java-lang-OutOfMemoryError异常处理"><span class="nav-number">7.6.</span> <span class="nav-text">Resin下java.lang.OutOfMemoryError异常处理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#第三类内存溢出"><span class="nav-number">7.7.</span> <span class="nav-text">第三类内存溢出</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#java-lang-StackOverflowError"><span class="nav-number">7.8.</span> <span class="nav-text">java.lang.StackOverflowError</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#java-lang-OutOfMemoryError-unable-to-create-new-native-thread"><span class="nav-number">7.9.</span> <span class="nav-text">java.lang.OutOfMemoryError: unable to create new native thread</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#java-lang-OutOfMemoryError-request-byte-for-out-of-swap"><span class="nav-number">7.10.</span> <span class="nav-text">java.lang.OutOfMemoryError: request {} byte for {}out of swap</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#要dump堆的内存镜像，可以采用如下两种方式"><span class="nav-number">8.</span> <span class="nav-text">要dump堆的内存镜像，可以采用如下两种方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#利用gc-log进行OOM监控"><span class="nav-number">9.</span> <span class="nav-text">利用gc.log进行OOM监控</span></a></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/xz.jpg"
      alt="Miss.Yang">
  <p class="site-author-name" itemprop="name">Miss.Yang</p>
  <div class="site-description" itemprop="description">不积跬步,无以至千里;不积小流,无以成江海.</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">97</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">分类</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        <span class="site-state-item-count">42</span>
        <span class="site-state-item-name">标签</span>
        </a>
      </div>
    
  </nav>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      推荐阅读
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/u011642663/article/details/90597317" title="https://blog.csdn.net/u011642663/article/details/90597317" rel="noopener" target="_blank">设计模式看了又忘，忘了又看？</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://github.com/Snailclimb/JavaGuide" title="https://github.com/Snailclimb/JavaGuide" rel="noopener" target="_blank">Java 学习/面试指南</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="http://www.ityouknow.com/springboot/2015/12/30/springboot-collect.html" title="http://www.ityouknow.com/springboot/2015/12/30/springboot-collect.html" rel="noopener" target="_blank">Spring Boot 学习资料汇总</a>
        </li>
      
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/wudinaniya/article/details/81130079" title="https://blog.csdn.net/wudinaniya/article/details/81130079" rel="noopener" target="_blank">码农翻身</a>
        </li>
      
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
  <i class="fa fa-heart" aria-hidden="true"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Miss.Yang</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">266k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">4:02</span>
</div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.0</div>
-->
<span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
<script>
    var now = new Date(); 
    function createtime() { 
        var grt= new Date("09/05/2019 12:00:00");//此处修改你的建站时间或者网站上线时间 
        now.setTime(now.getTime()+250); 
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "; 
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
    } 
setInterval("createtime()",250);
</script>

        












        
      </div>
    </footer>
  </div>

  


    
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script>
<script src="/js/schemes/pisces.js?v=7.4.0"></script>

<script src="/js/next-boot.js?v=7.4.0"></script>



  








  <script src="/js/local-search.js?v=7.4.0"></script>














  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body>
</html>
